{% extends "base.html" %}
{% load static %}

{% block title %}Loan Saathi Hub — Smart Loans, Simple Process{% endblock %}

{% block extra_head %}
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<style>
  body { font-family: 'Inter', sans-serif; color: #1e293b; background-color: #f9fafb; }
  h1, h2, h3, h4, h5, h6 { font-family: 'Manrope', sans-serif; font-weight: 700; }

  /* === HERO === */
  .hero {
    background: linear-gradient(125deg, #0a2342 0%, #155e75 50%, #0f766e 100%);
    color: #fff;
    text-align: center;
    padding: 110px 20px;
    border-radius: 0 0 40px 40px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.25);
  }
  .hero h1 {
    font-size: 2.8rem;
    font-weight: 800;
    letter-spacing: -0.5px;
  }
  .hero p {
    font-size: 1.1rem;
    opacity: 0.9;
  }

  .btn-finance {
    background: linear-gradient(90deg, #22d3ee, #0ea5e9);
    color: #fff; font-weight: 600; border: none;
    padding: 12px 28px; border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 14px rgba(14,165,233,0.35);
  }
  .btn-finance:hover { transform: translateY(-3px); background: linear-gradient(90deg, #0ea5e9, #0284c7); }

  .btn-outline-finance {
    border: 2px solid rgba(255,255,255,0.6);
    color: #fff; border-radius: 50px;
    padding: 12px 28px; transition: all 0.3s;
  }
  .btn-outline-finance:hover { background: rgba(255,255,255,0.15); }

  /* === CARD STYLING === */
  .pro-card {
    background: #fff;
    border-radius: 16px;
    padding: 30px 24px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.06);
    transition: all 0.3s ease;
  }
  .pro-card:hover { transform: translateY(-6px); box-shadow: 0 8px 28px rgba(0,0,0,0.08); }

  .pro-icon {
    font-size: 2.5rem;
    color: #0ea5e9;
  }

  /* === SECTIONS === */
  section { padding: 70px 0; }
  section h3 { font-weight: 700; color: #0f172a; }

  /* === EMI / ELIGIBILITY === */
  .input-control {
    border-radius: 10px;
    border: 1px solid #e2e8f0;
    padding: 10px 14px;
    font-size: 0.95rem;
  }
  .input-control:focus {
    border-color: #0ea5e9;
    box-shadow: 0 0 0 2px rgba(14,165,233,0.25);
    outline: none;
  }

  /* === TESTIMONIAL === */
  .testimonial {
    background: #fff;
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 6px 28px rgba(0,0,0,0.05);
  }

  /* === FAQ === */
  .accordion-button:not(.collapsed) {
    background-color: #e0f2fe;
    color: #0f172a;
  }

  /* === CTA === */
  .cta {
    background: linear-gradient(120deg, #0f766e, #155e75);
    color: #fff;
    text-align: center;
    padding: 80px 20px;
    border-radius: 24px;
  }
</style>
{% endblock %}

{% block content %}

<!-- HERO -->
<section class="hero" data-aos="fade-up">
  <div class="container">
    <h1>Smart Loans, Simple Process</h1>
    <p class="mt-3 mb-4">Your trusted partner for smarter, faster, and secure loan approvals.</p>
    <div class="d-flex justify-content-center gap-3">
      <a href="{% url 'register' %}?role=applicant" class="btn-finance"><i class="bi bi-person me-2"></i> Apply Now</a>
      <a href="{% url 'register' %}?role=lender" class="btn-outline-finance"><i class="bi bi-bank me-2"></i> Join as Lender</a>
    </div>
  </div>
</section>

<!-- FEATURES -->
<section>
  <div class="container text-center">
    <div class="row g-4">
      <div class="col-md-4" data-aos="fade-up">
        <div class="pro-card">
          <i class="bi bi-lightning-charge-fill pro-icon"></i>
          <h5 class="mt-3">Instant Approvals</h5>
          <p class="text-muted small">Get faster loan approvals with simplified eligibility checks.</p>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
        <div class="pro-card">
          <i class="bi bi-shield-lock-fill pro-icon text-teal-500"></i>
          <h5 class="mt-3">Secure Processing</h5>
          <p class="text-muted small">End-to-end encrypted, ensuring your personal and financial data stays safe.</p>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
        <div class="pro-card">
          <i class="bi bi-bar-chart-line-fill pro-icon text-indigo-500"></i>
          <h5 class="mt-3">Smart Comparison</h5>
          <p class="text-muted small">Compare top lenders and choose the one that fits your needs perfectly.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- EMI + ELIGIBILITY -->
<section class="bg-white">
  <div class="container">
    <div class="row g-5 align-items-center">
      <div class="col-md-6" data-aos="fade-right">
        <div class="pro-card">
          <h5><i class="bi bi-calculator me-2"></i>EMI Calculator</h5>
          <input id="loanAmount" class="input-control mt-2" placeholder="Loan Amount (₹)">
          <input id="interestRate" class="input-control mt-2" placeholder="Interest Rate (%)">
          <input id="loanTenure" class="input-control mt-2" placeholder="Tenure (months)">
          <button onclick="calculateEMI()" class="btn-finance w-100 mt-3">Calculate</button>
          <p class="mt-3 mb-0"><strong>EMI: </strong><span id="emiResult">--</span></p>
        </div>
      </div>

      <div class="col-md-6" data-aos="fade-left">
        <div class="pro-card">
          <h5><i class="bi bi-graph-up me-2"></i>Loan Eligibility</h5>
          <input id="income" class="input-control mt-2" placeholder="Monthly Income (₹)">
          <input id="existingEmi" class="input-control mt-2" placeholder="Existing EMI (₹)">
          <button onclick="checkEligibility()" class="btn-finance w-100 mt-3">Check</button>
          <p class="mt-3 mb-0"><strong>Eligible Loan: </strong><span id="eligibilityResult">--</span></p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section class="bg-gray-50">
  <div class="container text-center">
    <h3 class="mb-5 text-gray-900 fw-bold">What Our Clients Say</h3>
    <div class="row g-4">
      <div class="col-md-4" data-aos="fade-right">
        <div class="testimonial">
          <p>“Super professional! Loan Saathi Hub got my approval within 2 days. Transparent and easy to use.”</p>
          <div class="text-warning mt-2">★★★★★</div>
          <small>- Rahul Sharma</small>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up">
        <div class="testimonial">
          <p>“Best loan comparison experience ever. The interface feels premium and easy to navigate.”</p>
          <div class="text-warning mt-2">★★★★☆</div>
          <small>- Priya Verma</small>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-left">
        <div class="testimonial">
          <p>“Professional, quick, and secure. Highly recommended for business loan seekers.”</p>
          <div class="text-warning mt-2">★★★★★</div>
          <small>- Ankit Mehta</small>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta" data-aos="zoom-in">
  <div class="container">
    <h2>Ready to Start Your Financial Journey?</h2>
    <p class="mb-4 mt-2 opacity-90">Get personalized loan options in just minutes — 100% paperless, 100% secure.</p>
    <a href="{% url 'register' %}" class="btn-finance">Get Started</a>
  </div>
</section>

{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({ duration: 900, once: true });
  function calculateEMI() {
    const P = parseFloat(document.getElementById("loanAmount")?.value) || 0;
    const R = (parseFloat(document.getElementById("interestRate")?.value) || 0) / 12 / 100;
    const N = parseFloat(document.getElementById("loanTenure")?.value) || 0;
    if (P && R && N) {
      const emi = (P * R * Math.pow(1 + R, N)) / (Math.pow(1 + R, N) - 1);
      document.getElementById("emiResult").innerText = "₹" + emi.toFixed(2);
    } else document.getElementById("emiResult").innerText = "--";
  }
  function checkEligibility() {
    const income = parseFloat(document.getElementById("income")?.value) || 0;
    const emi = parseFloat(document.getElementById("existingEmi")?.value) || 0;
    if (income) {
      const eligible = (income - emi) * 60;
      document.getElementById("eligibilityResult").innerText = "₹" + eligible.toFixed(0);
    } else document.getElementById("eligibilityResult").innerText = "--";
  }
</script>
{% endblock %}
